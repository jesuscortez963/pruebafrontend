<div class="card">
  <button
    pButton
    pRipple
    label="New"
    icon="pi pi-plus"
    class="p-button-success nuevo"
    (click)="nuevoProduct()"
  ></button>

  <p-table [value]="products" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
      <tr>
        <th>nombreProducto</th>
        <th>descripcionProducto</th>
        <th>precio</th>
        <th>existencia</th>
        <th>tipoProducto</th>
        <th></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr>
        <td>{{ product.nombreProducto }}</td>
        <td>{{ product.descripcionProducto }}</td>
        <td>{{ product.precio }}</td>
        <td>{{ product.existencia }}</td>
        <td>{{ product.tipoProductoId }}</td>
        <td>
          <button
            pButton
            pRipple
            icon="pi pi-pencil"
            class="p-button-rounded p-button-success mr-2"
            (click)="editProduct(product)"
          ></button>
          <button
            pButton
            pRipple
            icon="pi pi-trash"
            class="p-button-rounded p-button-warning"
            (click)="deleteProduct(product)"
          ></button>
        </td>
      </tr>
    </ng-template>
  </p-table>

  <p-dialog
    [(visible)]="productDialog"
    [style]="{ width: '450px' }"
    header="Product Details"
    [modal]="true"
    styleClass="p-fluid"
  >
    <ng-template pTemplate="content">
      <form [formGroup]="miFormulario">
        <div class="p-field">
          <label for="name">Name</label>
          <input
            type="text"
            pInputText
            id="name"
            formControlName="nombreProducto"
            required
            autofocus
          />
        </div>
        <div class="p-field">
          <label for="description">Description</label>
          <textarea
            id="description"
            pInputTextarea
            formControlName="description"
            rows="3"
            cols="20"
          ></textarea>
        </div>

        <div class="p-field">
          <label for="precio">precio</label>
          <p-inputNumber
            id="precio"
            formControlName="precio"
            mode="currency"
            currency="USD"
            locale="en-US"
          ></p-inputNumber>
        </div>

        <div class="p-field">
          <label for="existencia">Existencia</label>
          <p-inputNumber
            id="existencia"
            formControlName="existencia"
            mode="currency"
            currency="USD"
            locale="en-US"
          ></p-inputNumber>
        </div>

        <div class="p-field">
          <label for="tipoProducto">Tipo producto</label>
          <input
            type="text"
            pInputText
            id="tipoProducto"
            formControlName="tipoProducto"
          />
        </div>
      </form>
    </ng-template>

    <ng-template pTemplate="footer">
      <button
        pButton
        pRipple
        label="Cancel"
        icon="pi pi-times"
        class="p-button-text"
        (click)="hideDialog()"
      ></button>
     
        <button
            pButton
            pRipple
            label="Save"
            icon="pi pi-check"
            class="p-button-text"
            (click)="saveOeditProduct()">
        </button>


      
    </ng-template>
  </p-dialog>
</div>
